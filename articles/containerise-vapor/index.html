<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"/><meta name="og:site_name" content="JimLearningBlog"/><link rel="canonical" href="https://jimlearning.github.io/articles/containerise-vapor"/><meta name="twitter:url" content="https://jimlearning.github.io/articles/containerise-vapor"/><meta name="og:url" content="https://jimlearning.github.io/articles/containerise-vapor"/><title>Containerising a Vapor application | JimLearningBlog</title><meta name="twitter:title" content="Containerising a Vapor application | JimLearningBlog"/><meta name="og:title" content="Containerising a Vapor application | JimLearningBlog"/><meta name="description" content="Learn how to generate and containerise a server-side API using Swift and Vapor inside of a Docker container."/><meta name="twitter:description" content="Learn how to generate and containerise a server-side API using Swift and Vapor inside of a Docker container."/><meta name="og:description" content="Learn how to generate and containerise a server-side API using Swift and Vapor inside of a Docker container."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to JimLearningBlog"/></head><head><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karla:400,400i,700,700i"/><link rel="stylesheet" href="/PersonalTheme/fontawesome/all.min.css"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">JimLearningBlog</a><p>A description of JimLearningBlog</p><nav><ul><li><a class="selected" href="/articles"><span class="far fa-newspaper"></span>Articles</a></li><li><a href="/tips"><span class="far fa-star"></span>Tips</a></li><li><a href="/apps"><span></span>Apps</a></li><li><a href="/tags"><span class="fas fa-hashtag"></span>Tags</a></li><li><a href="/about"><span class="far fa-user"></span>About Me</a></li></ul></nav></div></header><div class="wrapper"><article class="animated fadeIn"><span class="date">Published on 2020å¹´01æœˆ27æ—¥.</span><span class="read-time">ðŸ•‘ 2 minutes read.</span><h1>Containerising a Vapor application</h1><ul class="tag-list"><li class="tag variant-0"><a href="/tags/articles">Articles</a></li><li class="tag variant-14"><a href="/tags/swift">Swift</a></li><li class="tag variant-3"><a href="/tags/docker">Docker</a></li><li class="tag variant-16"><a href="/tags/vapor">Vapor</a></li></ul><p>Learn how to generate and containerise a server-side API using Swift and Vapor inside of a Docker container.</p><div class="content"><h2>Prerequisites</h2><p>To keep things simple, we will assume you have already installed the following: <em> Docker </em> Swift * Brew</p><p>My setup instructions are based macOS, but you can follow along on Linux as well.</p><h2>What is Vapor?</h2><img src="/images/posts/vapor-logo.svg" alt="Vapor logo"/><p>Vapor is an open source web framework written in Swift. It can be used to create RESTful APIs, web apps and real-time applications using WebSockets. It is particularly geared towards projects that utilise the Model View Controller (MVC) style design pattern.</p><p>To learn more about Vapor, visit <a href="https://vapor.codes">vapor.codes</a></p><h2>Installing Vapor</h2><p>Installing Vapor is a relativly straightforward, it can be done by running the following commands in your preferred Command Line Interface (CLI):</p><pre><code class="language-bash">brew tap vapor/tap
brew install vapor/tap/vapor
</code></pre><p>Once complete, you can verify that Vapor was installed correctly by running:</p><pre><code class="language-bash">vapor --help
</code></pre><p>This should print a list of command options to the screen.</p><h2>Creating a Vapor project</h2><p>Vapor is easy to get started with, for this post we will make use of the built in code generator to create a simple Hello World application. Use the vapor executable we installed to create a new project by running the following command:</p><pre><code class="language-bash">vapor new hello-world
</code></pre><p>Once the project files have been generated, navigate into the directory by running:</p><pre><code class="language-bash">cd hello-world
</code></pre><h2>Creating a Docker Image</h2><p>To create a Docker image containing the Vapor project, we can use the <code></code><code>web.Dockerfile</code><code></code> file that was generated by running the following command:</p><pre><code class="language-bash">docker build --build-arg env=docker -t vapor-image -f web.Dockerfile
</code></pre><p>This command may take some time to finish, but when complete we will have made a Docker image containing our compiled Vapor project. To run the Docker container and our project we can use the following command:</p><pre><code class="language-bash">docker run --name vapor-server -p 8080:80 vapor-image
</code></pre><p>Docker will run the container and bind port 80 inside of the container to port 8080 on your local machine. If you go to your browser and enter <a href="http://localhost:8080/hello">http://localhost:8080/hello</a>, you'll see that Vapor is running inside your container... <code>Hello, World!</code></p><h2>Summary</h2><p>Thats It! In this post we have demonstrated how easy it is to get started with Vapor by generating a server-side Swift project. When then illustrated how that project can be compiled and hosted inside of a Docker container. In future posts we will look at how we can expand on this example to develop Swift mircroservices.</p><h2>References</h2><ul><li><a href="https://swift.org/ "swift.org"">Swift</a></li><li><a href="https://vapor.codes "vapor.codes"">Vapor</a></li></ul><p class="footer">Thanks for reading! ðŸš€</p></div><ul class="share grid compact"><li><a class="twitter" href="https://twitter.com/intent/tweet?via=MikeRyanGough&text=Containerising%20a%20Vapor%20application&url=https://jimlearning.github.ioarticles/containerise-vapor">Share on Twitter</a></li><li><a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://jimlearning.github.ioarticles/containerise-vapor">Share on Facebook</a></li><li><a class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&&titleContainerising%20a%20Vapor%20application=&summary=&source=&url=https://jimlearning.github.ioarticles/containerise-vapor">Share on LinkedIn</a></li></ul></article></div><footer class="animated fadeIn"><p>Mike Gough Â© 2020.</p><p>Powered by <a href="https://github.com/johnsundell/publish">Publish</a> and hosted on <a href="https://github.com/Mike-Gough/Mike-Gough.github.io">GitHub Pages</a>. 100% JavaScript-free.</p><p>Notice a broken link or other issue? <a href="https://github.com/Mike-Gough/Mike-Gough.github.io/issues">Open an issue!</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>